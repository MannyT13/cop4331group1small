{%extends 'base.html' %}
{% block content %} 
    <!--Nav bar with add contact heading heading -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <span class="navbar-brand mb-0 h1">Homepage</span>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="{{ url_for('homepage') }}">Logout</a>
          </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
          <input name="search" id="searchContact" class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
          <button  class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </nav>



    <table class="table table-dark">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">First</th>
            <th scope="col">Last</th>
            <th scope="col">Address 1</th>
            <th scope="col">Address 2</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
            <th scope="col">City</th>
            <th scope="col">Zip</th>
          </tr>
        </thead>
        <tbody>
            {% for contact in contacts %}
          <tr>
            <th scope="row">{{ loop.index }}</th>
            <td>{{ contact.firstName }}</td>
            <td>{{ contact.lastName }}</td>
            <td>{{ contact.address1 }}</td>
            <td>{{ contact.address2</td>
            <td>{{ contact.email }}</td>
            <td>{{ contact.phone }}</td>
            <td>{{ contact.city }}</td>
            <td>{{ contact.zip }}</td>
          </tr>
            {% endfor %}
        </tbody>
      </table>
{% endblock %}

<!--
    ******to grab inputs just use request.form('the name of the input grabbing')******

     BACKEND: must worry about two things
        1. navbar
            a. logout
            b. search
        2. table/ using jinja for loop

   1. Navbar: We must handle three things
    a. logout ->  logs the user out and sends them back to login.html so,
         return render_template('login.html')

    b. search -> searches what is in input and then sends the info to search.html

  
  
  
    2. We are using a for loop for the table
    a. get all results for the signed in user
            contacts = contact.query.all() 

    b.send the contacts to the template and let the for loop do the rest of the work
             return render_template("homepage.html", contacts=contacts)
   
    
 -->